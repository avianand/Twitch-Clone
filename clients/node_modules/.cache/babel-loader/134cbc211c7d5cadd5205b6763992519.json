{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _startsWith = require('ramda/src/startsWith');\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nvar _not = require('ramda/src/not');\n\nvar _not2 = _interopRequireDefault(_not);\n\nvar _pickBy = require('ramda/src/pickBy');\n\nvar _pickBy2 = _interopRequireDefault(_pickBy);\n\nvar _map = require('ramda/src/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _any = require('ramda/src/any');\n\nvar _any2 = _interopRequireDefault(_any);\n\nvar _keys = require('ramda/src/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _prepend = require('ramda/src/prepend');\n\nvar _prepend2 = _interopRequireDefault(_prepend);\n\nvar _head = require('ramda/src/head');\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _prop = require('ramda/src/prop');\n\nvar _prop2 = _interopRequireDefault(_prop);\n\nvar _assoc = require('ramda/src/assoc');\n\nvar _assoc2 = _interopRequireDefault(_assoc);\n\nvar _reduce = require('ramda/src/reduce');\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nvar _replace = require('ramda/src/replace');\n\nvar _replace2 = _interopRequireDefault(_replace);\n\nvar _split = require('ramda/src/split');\n\nvar _split2 = _interopRequireDefault(_split);\n\nvar _tail = require('ramda/src/tail');\n\nvar _tail2 = _interopRequireDefault(_tail);\n\nvar _compose = require('ramda/src/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nexports.arrayUnshift = arrayUnshift;\nexports.arrayShift = arrayShift;\nexports.arraySwap = arraySwap;\nexports.arrayMove = arrayMove;\nexports.arrayCleanup = arrayCleanup;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction arrayUnshift(path, start) {\n  var toParts = (0, _compose2.default)(_tail2.default, (0, _split2.default)('.'), (0, _replace2.default)(path, ''));\n  return function (fields) {\n    return (0, _reduce2.default)(function (acc, key) {\n      if (key.indexOf(path) !== 0) {\n        return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n      }\n\n      var parts = toParts(key);\n      var index = Number((0, _head2.default)(parts));\n\n      if (isNaN(index) || index < start) {\n        return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n      }\n\n      var lead = path + '.' + (index + 1);\n      var newkey = (0, _prepend2.default)(lead, (0, _tail2.default)(parts)).join('.');\n      return (0, _assoc2.default)(newkey, (0, _prop2.default)(key, fields), acc);\n    }, {}, (0, _keys2.default)(fields));\n  };\n}\n\nfunction arrayShift(path, start) {\n  var toParts = (0, _compose2.default)(_tail2.default, (0, _split2.default)('.'), (0, _replace2.default)(path, ''));\n  return function (fields) {\n    return (0, _reduce2.default)(function (acc, key) {\n      if (key.indexOf(path) !== 0) {\n        return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n      }\n\n      var parts = toParts(key);\n      var index = Number((0, _head2.default)(parts));\n\n      if (isNaN(index) || index < start) {\n        return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n      }\n\n      var newindex = index - 1;\n\n      if (newindex < 0 || index === start) {\n        return acc;\n      }\n\n      var lead = path + '.' + newindex;\n      var newkey = (0, _prepend2.default)(lead, (0, _tail2.default)(parts)).join('.');\n      return (0, _assoc2.default)(newkey, (0, _prop2.default)(key, fields), acc);\n    }, {}, (0, _keys2.default)(fields));\n  };\n}\n\nfunction hasPaths(pos1, pos2, fields) {\n  var keyz = (0, _keys2.default)(fields);\n  var ok1 = (0, _compose2.default)((0, _any2.default)(Boolean), (0, _map2.default)(function (key) {\n    return key.indexOf(pos1) === 0;\n  }))(keyz);\n  var ok2 = (0, _compose2.default)((0, _any2.default)(Boolean), (0, _map2.default)(function (key) {\n    return key.indexOf(pos2) === 0;\n  }))(keyz);\n  return ok1 && ok2;\n}\n\nfunction arraySwap(path, index1, index2) {\n  return function (fields) {\n    var pos1 = path + '.' + index1;\n    var pos2 = path + '.' + index2;\n\n    if (!hasPaths(pos1, pos2, fields)) {\n      return fields;\n    }\n\n    return (0, _reduce2.default)(function (acc, key) {\n      if (key.indexOf(pos1) === 0) {\n        return (0, _assoc2.default)((0, _replace2.default)(pos1, pos2, key), (0, _prop2.default)(key, fields), acc);\n      }\n\n      if (key.indexOf(pos2) === 0) {\n        return (0, _assoc2.default)((0, _replace2.default)(pos2, pos1, key), (0, _prop2.default)(key, fields), acc);\n      }\n\n      return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n    }, {}, (0, _keys2.default)(fields));\n  };\n}\n\nfunction arrayMove(path, index1, index2) {\n  return function (fields) {\n    var pos1 = path + '.' + index1;\n    var pos2 = path + '.' + index2;\n\n    if (!hasPaths(pos1, pos2, fields)) {\n      return fields;\n    }\n\n    return (0, _compose2.default)((0, _assoc2.default)(pos2, (0, _prop2.default)(pos1, fields)), arrayUnshift(path, index2), arrayShift(path, index1))(fields);\n  };\n}\n\nfunction arrayCleanup(path) {\n  return (0, _pickBy2.default)((0, _compose2.default)(_not2.default, function (_, key) {\n    return (0, _startsWith2.default)(path, key);\n  }));\n}","map":{"version":3,"sources":["C:/Users/anand/Documents/Work/twitch/node_modules/redux-forms/lib/arrays.js"],"names":["exports","__esModule","_startsWith","require","_startsWith2","_interopRequireDefault","_not","_not2","_pickBy","_pickBy2","_map","_map2","_any","_any2","_keys","_keys2","_prepend","_prepend2","_head","_head2","_prop","_prop2","_assoc","_assoc2","_reduce","_reduce2","_replace","_replace2","_split","_split2","_tail","_tail2","_compose","_compose2","arrayUnshift","arrayShift","arraySwap","arrayMove","arrayCleanup","obj","default","path","start","toParts","fields","acc","key","indexOf","parts","index","Number","isNaN","lead","newkey","join","newindex","hasPaths","pos1","pos2","keyz","ok1","Boolean","ok2","index1","index2","_"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _startsWith = require('ramda/src/startsWith');\n\nvar _startsWith2 = _interopRequireDefault(_startsWith);\n\nvar _not = require('ramda/src/not');\n\nvar _not2 = _interopRequireDefault(_not);\n\nvar _pickBy = require('ramda/src/pickBy');\n\nvar _pickBy2 = _interopRequireDefault(_pickBy);\n\nvar _map = require('ramda/src/map');\n\nvar _map2 = _interopRequireDefault(_map);\n\nvar _any = require('ramda/src/any');\n\nvar _any2 = _interopRequireDefault(_any);\n\nvar _keys = require('ramda/src/keys');\n\nvar _keys2 = _interopRequireDefault(_keys);\n\nvar _prepend = require('ramda/src/prepend');\n\nvar _prepend2 = _interopRequireDefault(_prepend);\n\nvar _head = require('ramda/src/head');\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _prop = require('ramda/src/prop');\n\nvar _prop2 = _interopRequireDefault(_prop);\n\nvar _assoc = require('ramda/src/assoc');\n\nvar _assoc2 = _interopRequireDefault(_assoc);\n\nvar _reduce = require('ramda/src/reduce');\n\nvar _reduce2 = _interopRequireDefault(_reduce);\n\nvar _replace = require('ramda/src/replace');\n\nvar _replace2 = _interopRequireDefault(_replace);\n\nvar _split = require('ramda/src/split');\n\nvar _split2 = _interopRequireDefault(_split);\n\nvar _tail = require('ramda/src/tail');\n\nvar _tail2 = _interopRequireDefault(_tail);\n\nvar _compose = require('ramda/src/compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nexports.arrayUnshift = arrayUnshift;\nexports.arrayShift = arrayShift;\nexports.arraySwap = arraySwap;\nexports.arrayMove = arrayMove;\nexports.arrayCleanup = arrayCleanup;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction arrayUnshift(path, start) {\n    var toParts = (0, _compose2.default)(_tail2.default, (0, _split2.default)('.'), (0, _replace2.default)(path, ''));\n    return function (fields) {\n        return (0, _reduce2.default)(function (acc, key) {\n            if (key.indexOf(path) !== 0) {\n                return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n            }\n            var parts = toParts(key);\n            var index = Number((0, _head2.default)(parts));\n            if (isNaN(index) || index < start) {\n                return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n            }\n            var lead = path + '.' + (index + 1);\n            var newkey = (0, _prepend2.default)(lead, (0, _tail2.default)(parts)).join('.');\n            return (0, _assoc2.default)(newkey, (0, _prop2.default)(key, fields), acc);\n        }, {}, (0, _keys2.default)(fields));\n    };\n}\nfunction arrayShift(path, start) {\n    var toParts = (0, _compose2.default)(_tail2.default, (0, _split2.default)('.'), (0, _replace2.default)(path, ''));\n    return function (fields) {\n        return (0, _reduce2.default)(function (acc, key) {\n            if (key.indexOf(path) !== 0) {\n                return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n            }\n            var parts = toParts(key);\n            var index = Number((0, _head2.default)(parts));\n            if (isNaN(index) || index < start) {\n                return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n            }\n            var newindex = index - 1;\n            if (newindex < 0 || index === start) {\n                return acc;\n            }\n            var lead = path + '.' + newindex;\n            var newkey = (0, _prepend2.default)(lead, (0, _tail2.default)(parts)).join('.');\n            return (0, _assoc2.default)(newkey, (0, _prop2.default)(key, fields), acc);\n        }, {}, (0, _keys2.default)(fields));\n    };\n}\nfunction hasPaths(pos1, pos2, fields) {\n    var keyz = (0, _keys2.default)(fields);\n    var ok1 = (0, _compose2.default)((0, _any2.default)(Boolean), (0, _map2.default)(function (key) {\n        return key.indexOf(pos1) === 0;\n    }))(keyz);\n    var ok2 = (0, _compose2.default)((0, _any2.default)(Boolean), (0, _map2.default)(function (key) {\n        return key.indexOf(pos2) === 0;\n    }))(keyz);\n    return ok1 && ok2;\n}\nfunction arraySwap(path, index1, index2) {\n    return function (fields) {\n        var pos1 = path + '.' + index1;\n        var pos2 = path + '.' + index2;\n        if (!hasPaths(pos1, pos2, fields)) {\n            return fields;\n        }\n        return (0, _reduce2.default)(function (acc, key) {\n            if (key.indexOf(pos1) === 0) {\n                return (0, _assoc2.default)((0, _replace2.default)(pos1, pos2, key), (0, _prop2.default)(key, fields), acc);\n            }\n            if (key.indexOf(pos2) === 0) {\n                return (0, _assoc2.default)((0, _replace2.default)(pos2, pos1, key), (0, _prop2.default)(key, fields), acc);\n            }\n            return (0, _assoc2.default)(key, (0, _prop2.default)(key, fields), acc);\n        }, {}, (0, _keys2.default)(fields));\n    };\n}\nfunction arrayMove(path, index1, index2) {\n    return function (fields) {\n        var pos1 = path + '.' + index1;\n        var pos2 = path + '.' + index2;\n        if (!hasPaths(pos1, pos2, fields)) {\n            return fields;\n        }\n        return (0, _compose2.default)((0, _assoc2.default)(pos2, (0, _prop2.default)(pos1, fields)), arrayUnshift(path, index2), arrayShift(path, index1))(fields);\n    };\n}\nfunction arrayCleanup(path) {\n    return (0, _pickBy2.default)((0, _compose2.default)(_not2.default, function (_, key) {\n        return (0, _startsWith2.default)(path, key);\n    }));\n}"]},"metadata":{},"sourceType":"script"}