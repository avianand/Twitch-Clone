{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anand\\\\Documents\\\\Work\\\\twitch\\\\src\\\\components\\\\GoogleAuth.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport { connect } from \"react-redux\";\nimport { signIn, signOut } from \"../actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GoogleAuth = props => {\n  _s();\n\n  const auth = useRef();\n  useEffect(() => {\n    window.gapi.load(\"client:auth2\", () => {\n      window.gapi.client.init({\n        clientId: \"398671583439-chdv5bu5cish5kdrbfjfdmil9vfsgsnb.apps.googleusercontent.com\",\n        scope: \"email\"\n      }).then(() => {\n        auth.current = window.gapi.auth2.getAuthInstance();\n        onAuthChange(auth.current.isSignedIn.get());\n        auth.current.isSignedIn.listen(onAuthChange);\n      });\n    });\n  }, []);\n\n  const onAuthChange = isSignedIn => {\n    if (isSignedIn) {\n      props.signIn(auth.current.currentUser().get().getId());\n    } else {\n      props.signOut();\n    }\n  };\n\n  const onSignInClick = () => {\n    auth.current.signIn();\n  };\n\n  const onSignOutClick = () => {\n    auth.current.signOut();\n  };\n\n  const renderAuthButton = () => {\n    if (props.isSignedIn === null) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSignInClick,\n          className: \"ui red google button\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"google icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this), \"Sign in with google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this);\n    } else if (props.isSignedIn) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSignOutClick,\n          className: \"ui red google button\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"google icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this), \"Sign Out\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSignInClick,\n          className: \"ui red google button\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"google icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), \"Sign in with google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: renderAuthButton()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 10\n  }, this);\n};\n\n_s(GoogleAuth, \"Ed+JzfZN+Sq+tcVnPlvCD4Uln3Q=\");\n\n_c = GoogleAuth;\n\nconst mapStateToProps = state => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signIn,\n  signOut\n})(GoogleAuth);\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleAuth\");","map":{"version":3,"sources":["C:/Users/anand/Documents/Work/twitch/src/components/GoogleAuth.js"],"names":["React","useEffect","useRef","connect","signIn","signOut","GoogleAuth","props","auth","window","gapi","load","client","init","clientId","scope","then","current","auth2","getAuthInstance","onAuthChange","isSignedIn","get","listen","currentUser","getId","onSignInClick","onSignOutClick","renderAuthButton","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\n\r\nconst GoogleAuth = (props) => {\r\n  const auth = useRef();\r\n  useEffect(() => {\r\n    window.gapi.load(\"client:auth2\", () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            \"398671583439-chdv5bu5cish5kdrbfjfdmil9vfsgsnb.apps.googleusercontent.com\",\r\n          scope: \"email\",\r\n        })\r\n        .then(() => {\r\n          auth.current = window.gapi.auth2.getAuthInstance();\r\n          onAuthChange(auth.current.isSignedIn.get());\r\n          auth.current.isSignedIn.listen(onAuthChange);\r\n        });\r\n    });\r\n  }, []);\r\n\r\n  const onAuthChange = (isSignedIn) => {\r\n    if (isSignedIn) {\r\n      props.signIn(auth.current.currentUser().get().getId());\r\n    } else {\r\n      props.signOut();\r\n    }\r\n  };\r\n\r\n  const onSignInClick = () => {\r\n    auth.current.signIn();\r\n  };\r\n\r\n  const onSignOutClick = () => {\r\n    auth.current.signOut();\r\n  };\r\n\r\n  const renderAuthButton = () => {\r\n    if (props.isSignedIn === null) {\r\n      return (\r\n        <div>\r\n          <button onClick={onSignInClick} className=\"ui red google button\">\r\n            <i className=\"google icon\" />\r\n            Sign in with google\r\n          </button>\r\n        </div>\r\n      );\r\n    } else if (props.isSignedIn) {\r\n      return (\r\n        <div>\r\n          <button onClick={onSignOutClick} className=\"ui red google button\">\r\n            <i className=\"google icon\" />\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <button onClick={onSignInClick} className=\"ui red google button\">\r\n            <i className=\"google icon\" />\r\n            Sign in with google\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return <div>{renderAuthButton()}</div>;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\r\n"]},"metadata":{},"sourceType":"module"}